@import "base-mixins/_all.scss";
@import "base-variables/_all.scss";

$step-progress-bubble-height: 34px;
$step-progress-line-height: 4px;

.milestones {
  ul {
    list-style: none;
    position: relative;
    padding: 1em 0 0 0;
    margin: 1em 0;
    text-align: center;

    li {
      display: inline-block;
      position: relative;
      text-align: center;
      padding: 0 30px;
      line-height: $step-progress-bubble-height;

      span {
        opacity: 0.5;
        font-size: $font-small;
      }

      &::before {
        content: '';
        font-family: $icon-font;
        font-size: $font-small;
        width: $step-progress-bubble-height;
        height: $step-progress-bubble-height;
        border: $step-progress-line-height solid $ink-lightest;
        border-radius: $step-progress-bubble-height/2;
        display: block;
        text-align: center;
        line-height: calc(#{$step-progress-bubble-height} - (#{$step-progress-line-height} * 2));
        font-weight: $bold;
        margin: 0 auto $space-smaller;
        position: relative;
        z-index: 1;
      }
      &::after {
        content: '';
        width: 100%;
        height: $step-progress-line-height;
        position: absolute;
        top: calc((#{$step-progress-bubble-height}/2) - (#{$step-progress-line-height}/2));
        left: -50%;
        z-index: 0;
      }
      &:first-child {
        &::after {
          display: none;
        }
      }

      &.status-{
        &done {
          &::before {
            content: '\f00c';
            border-color: $power-green !important;
            color: $power-green !important;
          }
        }
        &started {
          span {
            opacity: 1;
          }
          &::before {
            content: '\f111';
            color: $power-blue !important;
            border-color: $power-blue !important;
          }
        }
      }
    }

    &::after {
      content: '';
      clear: both;
      float: none;
      width: 100%;
      display: block;
    }
  }

  &.background-dark {
    ul {
      background: $power-navy;

      li {
        span {
          color: $white;
        }

        &::before {
          background: $ink-lightest;
          color: $white;
        }
        &::after {
          background: $ink-lightest
        }

        &.status-{
          &done {
            &::before {
              background: $power-navy;
            }
            &::after {
              background: $power-green;
            }
          }
          &started {
            &::before {
              background: $power-navy;
            }
            &::after {
              background: $power-blue;
            }
          }
        }
      }
    }
  }
  &.background-light {
    ul {
      background: transparent;

      li {
        span {
          color: $ink;
        }

        &::before {
          background: $sky;
          color: $ink;
          border-color: $sky;
        }
        &::after {
          background: $sky
        }

        &.status-{
          &done {
            &::before {
              background: $sky-light;
            }
            &::after {
              background: $power-green;
            }
          }
          &started {
            &::before {
              background: $sky-light;
            }
            &::after {
              background: $power-blue;
            }
          }
        }
      }
    }
  }
}
